"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getElement = void 0;
var react_1 = require("react");
var containsElement_1 = __importDefault(require("./containsElement"));
/**
 * Gets the HTMLElement or null from a provided RefObject or HTMLElement/null
 * @private
 */
function getElement(element) {
    if (!element) {
        return null;
    }
    if (typeof element.current !== "undefined") {
        return element.current;
    }
    return element;
}
exports.getElement = getElement;
/**
 * Triggers a callback function when another element in the page is clicked that
 * is outside of the provided element. This is generally used for closing
 * temporary elements when something else within the page has been clicked.
 *
 * The callback will be provided the current `element` as well as the click
 * target if additional logic should be applied before closing.
 *
 * @typeparam E The type of element
 */
function useCloseOnOutsideClick(_a) {
    var enabled = _a.enabled, element = _a.element, onOutsideClick = _a.onOutsideClick;
    react_1.useEffect(function () {
        if (!enabled) {
            return;
        }
        function handleClick(event) {
            var target = event.target;
            var el = getElement(element);
            if (!containsElement_1.default(el, target)) {
                onOutsideClick(el, target, containsElement_1.default);
            }
        }
        window.addEventListener("click", handleClick);
        return function () {
            window.removeEventListener("click", handleClick);
        };
    }, [enabled, element, onOutsideClick]);
}
exports.default = useCloseOnOutsideClick;
//# sourceMappingURL=useCloseOnOutsideClick.js.map